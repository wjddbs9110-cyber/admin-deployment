---
alwaysApply: true
---

# 5. 레이아웃, 라우터, CSS Import (Layout, Router, CSS Import)
목표:
Layout, Router, CSS Import 설정

**꼭 참조해야 할 문서:**
- `.cursor/rules/02-react-antd-rules.mdc`
- `.cursor/rules/03-file-directory.mdc`
- `.cursor/rules/04-common-structures.mdc`

필수 구성:
- TypeScript 설정 (tsconfig.json - jsx, paths) ⚠️ 중요
- Vite 설정 (vite.config.ts - alias, css.devSourcemap)
- Layout 구조 (Header, Sidebar, Content)
  - Content 세부 구조: ContentHeader, ContentBody, ContentFooter
- Router 설정 (AppRouter.tsx, AppRouterUtil.tsx)
- CSS 자동 Import 설정 (main.tsx)
- CSS 소스맵 설정 (개발자 도구에서 CSS 파일 확인 가능)
- 기본 폴더 구조 (pages, components, layout, router, assets/css)

필수 규칙:
- HTML 태그 절대 사용 금지
- 인라인 스타일 절대 금지

- Ant Design 컴포넌트만 사용

생성 후 검증:
- [ ] tsconfig.json에 jsx 설정 완료
- [ ] tsconfig.json에 paths 설정 완료
- [ ] vite.config.ts에 alias 설정 완료
- [ ] HTML 태그 없음
- [ ] 인라인 스타일 없음
- [ ] 파일 분리 완료
- [ ] CSS 자동 Import 설정 완료
- [ ] JSX 컴파일 오류 없음

결과 확인:
- [ ] src/layout/Layout01.tsx 생성됨 (ContentHeader, ContentBody, ContentFooter 포함)
- [ ] src/layout/header/Header.tsx 생성됨
- [ ] src/layout/sidebar/Sidebar.tsx 생성됨
- [ ] src/layout/content/ContentHeader.tsx 생성됨 (브레드크럼, 타이틀 구현)
- [ ] src/layout/content/ContentBody.tsx 생성됨 (children 래퍼 구현)
- [ ] src/layout/content/ContentFooter.tsx 생성됨 (저작권 정보 구현)
- [ ] src/router/AppRouter.tsx 생성됨
- [ ] src/router/AppRouterUtil.tsx 생성됨
- [ ] vite.config.ts 설정됨 (alias, css.devSourcemap)
- [ ] tsconfig.json 설정됨 (jsx: "react-jsx", paths)
- [ ] CSS 자동 import 동작함
- [ ] 브라우저 개발자 도구에서 CSS 파일 경로 확인 가능
- [ ] JSX 오류 없음 (tsx 파일에서 정상 동작)
- [ ] ContentHeader, ContentBody, ContentFooter가 화면에 표시됨

## vite.config.ts 설정 예시

```typescript
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
import path from "path";

export default defineConfig({
    plugins: [react()],
    resolve: {
        alias: {
            "@": path.resolve(__dirname, "./src")
        }
    },
    css: {
        devSourcemap: true
    }
});
```

**css.devSourcemap: true 설정 효과:**
- 브라우저 개발자 도구(F12)에서 CSS 규칙의 원본 파일 경로를 확인 가능
- 예: `button.css:5`, `card.css:12` 등으로 표시
- CSS 디버깅 및 수정이 용이해짐

---

## tsconfig.json 설정 ⚠️ 중요!

**파일 위치**: `tsconfig.json`

**⚠️ 필수 설정 항목:**

1. **JSX 설정** (없으면 JSX 오류 발생!)
   - `"jsx": "react-jsx"` 추가
   - React에서 JSX 구문을 사용하기 위한 필수 설정

2. **Path Alias 설정** (@ 경로 사용을 위함)
   - `"baseUrl": "."` 추가
   - `"paths": { "@/*": ["./src/*"] }` 추가

**주의사항:**
- Vite로 React 프로젝트를 생성할 때 기본 포함되어야 하지만, 누락된 경우 수동으로 추가 필요
- jsx 설정이 없으면 `.tsx` 파일에서 JSX를 사용할 수 없음
- paths 설정이 없으면 `@/` alias 경로를 인식하지 못함

## CSS 자동 Import 설정

**파일**: `src/main.tsx`
```tsx
const styles = import.meta.glob('./assets/css/**/*.css', { eager: true });
```
- 모든 CSS 파일 자동 로드
- 폰트 CSS는 별도 직접 import

**파일**: `src/assets/css/reset.css`
```css
[class^="ant-"], [class^="ant-"] * {
    font-family: 'Pretendard Variable', 'MalgunGothic', sans-serif !important;
}
```

---

## Layout 구조

```
┌─────────────────────────────────────────────┐
│                  Header                     │
├──────────┬──────────────────────────────────┤
│          │          Content                 │
│ Sidebar  │  ┌────────────────────────────┐  │
│          │  │ ContentHeader (타이틀/버튼) │  │
│          │  │ ContentBody (페이지 영역)   │  │
│          │  │ ContentFooter (푸터 정보)   │  │
│          │  └────────────────────────────┘  │
└──────────┴──────────────────────────────────┘
```

### Content 세부 컴포넌트

| 컴포넌트 | 파일 | 용도 |
|---------|------|------|
| ContentHeader | `content/ContentHeader.tsx` | 페이지 타이틀, 브레드크럼, 액션 버튼 |
| ContentBody | `content/ContentBody.tsx` | 페이지 콘텐츠 래퍼 (여백, 스크롤 처리) |
| ContentFooter | `content/ContentFooter.tsx` | 저작권, 푸터 링크, 부가 정보 |

**Layout01.tsx 구조**:
```tsx
<Layout>
    <Header />
    <Layout>
        <Sidebar />
        <Content>
            <ContentHeader />  {/* 페이지 타이틀, 브레드크럼, 액션 버튼 */}
            <ContentBody>
                <Outlet />  {/* 페이지 콘텐츠 렌더링 */}
            </ContentBody>
            <ContentFooter />  {/* 저작권, 푸터 정보 */}
        </Content>
    </Layout>
</Layout>
```

**ContentHeader.tsx 예시**:
```tsx
import React from "react";
import { Flex, Typography, Breadcrumb } from "antd";

const { Title } = Typography;

const ContentHeader: React.FC = () => {
    return (
        <Flex vertical gap={16} className="content-header">
            <Breadcrumb items={[
                { title: "홈" },
                { title: "페이지" }
            ]} />
            <Title level={2}>페이지 제목</Title>
        </Flex>
    );
};

export default ContentHeader;
```

**ContentBody.tsx 예시**:
```tsx
import React from "react";
import { Flex } from "antd";

interface ContentBodyProps {
    children: React.ReactNode;
}

const ContentBody: React.FC<ContentBodyProps> = ({ children }) => {
    return (
        <Flex vertical gap={24} className="content-body">
            {children}
        </Flex>
    );
};

export default ContentBody;
```

**ContentFooter.tsx 예시**:
```tsx
import React from "react";
import { Flex, Typography } from "antd";

const { Text } = Typography;

const ContentFooter: React.FC = () => {
    return (
        <Flex justify="center" className="content-footer">
            <Text type="secondary">© 2024 Company Name. All rights reserved.</Text>
        </Flex>
    );
};

export default ContentFooter;
```

**필요한 CSS 파일**: `src/assets/css/layout/content/content.css`
```css
@charset "utf-8";
/* CSS Document */

/* ---- Layout : Content : Start ---- */

/* ContentHeader 영역 */
.content-header {
    margin-bottom: 24px;
}

/* ContentBody 영역 */
.content-body {
    flex: 1;
    min-height: 0;
}

/* ContentFooter 영역 */
.content-footer {
    margin-top: 24px;
    padding: 16px 0;
}

/* ---- Layout : Content : End ---- */
```